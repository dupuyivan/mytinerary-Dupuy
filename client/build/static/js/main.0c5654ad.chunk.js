(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(18),r=n.n(s),i=(n(97),n(98),n(15)),o=n(14),l=n(56),d=n(57),u=n(72),j=n(70),m=n(27),h=n(29),b=n(1),x=function(){return Object(b.jsxs)("div",{className:"hero",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:"./traveller.svg",alt:"logo",className:"logo"}),Object(b.jsx)("h1",{className:"text-light",children:"Mytinerary"})]}),Object(b.jsx)("p",{children:"Find your perfect trip, designed by insiders who knows and love their cities!"}),Object(b.jsx)("div",{className:" d-flex justify-content-center",children:Object(b.jsx)(i.b,{to:"/cities",children:Object(b.jsx)("div",{className:"circulo",children:Object(b.jsx)("h6",{children:"Let's begin"})})})})]})},O=n(121),p=function(){return Object(b.jsx)(O.a,{fade:!0,children:[[{name:"Rome",path:"roma2"},{name:"Cancun",path:"cancun"},{name:"Ibiza",path:"ibiza"},{name:"New York",path:"new-york-2"}],[{name:"Paris",path:"paris3"},{name:"Tokio",path:"tokio2"},{name:"Toronto",path:"toronto"},{name:"Amsterdam",path:"amsterdam"}],[{name:"Buenos Aires",path:"buenos-aires2"},{name:"Chicago",path:"chicago"},{name:"Rio de Janerio",path:"rio-de-janerio"},{name:"London",path:"london"}]].map((function(e){return Object(b.jsx)(O.a.Item,{interval:2e3,style:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"center",paddingBottom:"1rem"},children:e.map((function(e){return Object(b.jsx)("div",{className:"imgC",style:{backgroundImage:"url('./cities/".concat(e.path,".jpg')")},children:Object(b.jsx)("h2",{className:"text-center text-white city",children:e.name})},e.path)}))},e[0].name)}))})},f=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"fondo-home",style:{backgroundImage:"url('./eiffel-tower.jpg')"},children:[Object(b.jsx)(m.a,{logo:!1}),Object(b.jsx)(x,{})]}),Object(b.jsxs)("div",{className:"black",children:[Object(b.jsx)("h2",{className:"t-car text-white pt-3",children:"Popular Mytineraries"}),Object(b.jsx)(p,{})]}),Object(b.jsx)(h.a,{})]})}}]),n}(a.a.Component),g=n(16),v={fetchear:function(){return function(e,t){fetch("https://mytinerarydupuy.herokuapp.com/api/cities").then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_CITIES",payload:t.result})})).catch((function(e){return console.log(e)}))}},buscador:function(e){var t=e.target.value.split(" ").join("").toLowerCase();return function(e,n){e({type:"BUSCAR",payload:t})}}},y=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchear()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{}),Object(b.jsxs)("div",{className:"black main",children:[Object(b.jsxs)("div",{className:"fondo-cities",children:[Object(b.jsx)("h2",{children:"Cities"}),Object(b.jsx)("input",{type:"text",style:{width:"57%",textAlign:"center"},className:"form-control",onChange:this.props.buscar,placeholder:"Search a city"})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-center flex-wrap mb-2 mt-2",children:[!this.props.cities.length&&Object(b.jsx)("div",{className:"d-flex justify-content-center m-2",children:Object(b.jsx)("div",{className:"spinner-border text-light",role:"status"})}),this.props.cities.length&&!this.props.citiesFiltered.length?Object(b.jsxs)("div",{className:"alert alert-danger mt-4",role:"alert",children:["oops!! it seems there are no results",Object(b.jsx)("span",{children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",className:"bi bi-emoji-frown",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(b.jsx)("path",{d:"M4.285 12.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 10.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 9.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"})]})})]}):this.props.citiesFiltered.map((function(t){return Object(b.jsx)("div",{className:"C-igms rounded pointer",onClick:function(){return e.props.history.push("/city/"+t._id)},style:{backgroundImage:"url('".concat(t.img,"')")},children:Object(b.jsx)("h2",{className:"city text-white rounded p-1",children:t.city})},t.city)}))]})]}),Object(b.jsx)(h.a,{})]})}}]),n}(a.a.Component),k={fetchear:v.fetchear,buscar:v.buscador},w=Object(g.b)((function(e){return{cities:e.citiesReducer.cities,citiesFiltered:e.citiesReducer.citiesFiltered}}),k)(y),N=n(12),C=n.n(N),S=n(19),L=n(17),_=n(71),F=n(7),z=n(122),T=n(123),I=n(89),A=n(82),E=n(119),R=Object(g.b)((function(e){return{userLogued:e.authReducer.userLogued}}),null)((function(e){var t=e.comment,n=e.accionComent,a=e.userLogued,s=Object(c.useState)({visible:!1,textComent:t.comment,edit:!1,modal:!1}),r=Object(L.a)(s,2),i=r[0],o=r[1];return Object(b.jsxs)("div",{className:"d-flex mt-1",children:[Object(b.jsx)("div",{className:"mt-1 ml-2 Userpicture",style:{backgroundImage:"url('".concat(t.user_id.picture,"')")}}),Object(b.jsxs)("div",{className:"mt-1 ml-2 ",children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsxs)("h5",{className:"text-left nada",children:[t.user_id.name," ",t.user_id.last_name]}),a&&a._id===t.user_id._id?Object(b.jsx)("span",{className:"ml-2 pointer",onClick:function(){o(Object(F.a)(Object(F.a)({},i),{},{visible:!i.visible,edit:!1}))},children:"..."}):"",Object(b.jsx)("div",{className:a?"d-block":"d-none",children:Object(b.jsxs)("div",{className:i.visible?"d-block ml-3":"d-none",children:[Object(b.jsx)("span",{className:"pointer",onClick:function(){return o(Object(F.a)(Object(F.a)({},i),{},{edit:!i.edit}))},children:Object(b.jsx)("img",{className:"money",src:"/assets/pencil.svg",alt:"edit"})}),Object(b.jsx)("span",{className:"pointer ml-1",onClick:function(){return o(Object(F.a)(Object(F.a)({},i),{},{modal:!i.modal}))},children:Object(b.jsx)("img",{className:"money",src:"/assets/trash.svg",alt:"delete"})})]})})]}),i.edit?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{className:"inputComent",type:"text",value:i.textComent,onChange:function(e){return o(Object(F.a)(Object(F.a)({},i),{},{textComent:e.target.value}))}}),Object(b.jsx)("button",{className:"butonComent",onClick:function(){n("update",t._id,i.textComent),o(Object(F.a)(Object(F.a)({},i),{},{visible:!1,edit:!1}))},children:Object(b.jsx)("img",{src:"/assets/send.svg",className:"pointer money",alt:"send"})})]}):Object(b.jsx)("p",{className:"text-left nada coment",children:t.comment})]}),Object(b.jsxs)(E.a,{show:i.modal,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(b.jsx)(E.a.Body,{children:Object(b.jsx)("h4",{className:"text-center",children:"you're sure ?? "})}),Object(b.jsx)(I.a,{variant:"light",onClick:function(){o(Object(F.a)(Object(F.a)({},i),{},{visible:!1,modal:!1}))},children:"No"}),Object(b.jsx)(I.a,{variant:"primary",className:"mt-1",onClick:function(){n("delete",t._id),o(Object(F.a)(Object(F.a)({},i),{},{visible:!1}))},children:"Yes"})]})]})})),G={fetchItineraries:function(e){return function(){return fetch("https://mytinerarydupuy.herokuapp.com/api/itinerarybycity/"+e).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return console.log(e)}))}},fetchActivities:function(e){return Object(S.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://mytinerarydupuy.herokuapp.com/api/activitybyitinerary/"+e).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return console.log(e)})));case 1:case"end":return t.stop()}}),t)})))},like_unlike:function(e){return function(){return fetch("https://mytinerarydupuy.herokuapp.com/api/like/"+e,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return console.log(e)}))}},sendComment:function(e,t){return function(){return fetch("https://mytinerarydupuy.herokuapp.com/api/comentary/"+e,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify({comment:t})}).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return console.log(e)}))}},deleteComent:function(e,t){return function(){return fetch("https://mytinerarydupuy.herokuapp.com/api/comentary/"+e+"/"+t,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return console.log(e)}))}},updateComment:function(e,t,n){return function(){return fetch("https://mytinerarydupuy.herokuapp.com/api/comentary/"+e+"/"+t,{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify({comment:n})}).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return console.log(e)}))}}},U={sendComment:G.sendComment,deleteComent:G.deleteComent,updateComment:G.updateComment},B=Object(g.b)((function(e){return{userLogued:e.authReducer.userLogued}}),U)((function(e){var t=e.itinerary,n=e.userLogued,a=e.sendComment,s=e.deleteComent,r=e.updateComment,i=Object(c.useState)(""),o=Object(L.a)(i,2),l=o[0],d=o[1],u=Object(c.useState)(t.comments),j=Object(L.a)(u,2),m=j[0],h=j[1],x=function(){var e=Object(S.a)(C.a.mark((function e(c,i,o){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delete"!==c){e.next=9;break}return m.filter((function(e){return e._id!==i})),e.t0=h,e.next=5,s(t._id,i);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=27;break;case 9:if("update"!==c||""===o){e.next=18;break}return h(m.map((function(e){return e._id===i&&(e.comment=o),e}))),e.t2=h,e.next=14,r(t._id,i,o);case 14:e.t3=e.sent,(0,e.t2)(e.t3),e.next=27;break;case 18:if(""===l.trim()){e.next=27;break}return h([].concat(Object(_.a)(m),[{_id:1,comment:l,user_id:{last_name:n.last_name,name:n.name,_id:n._id,picture:n.picture}}])),d(""),e.t4=h,e.next=24,a(t._id,l);case 24:e.t5=e.sent,(0,e.t4)(e.t5),d("");case 27:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"d-flex flex-column",children:[m&&m.map((function(e){return Object(b.jsx)(R,{comment:e,accionComent:x},e._id)})),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[Object(b.jsx)("div",{className:"Comentuser",style:{backgroundImage:"url('".concat(n?n.picture:"/assets/user.png","')")}}),Object(b.jsx)("input",{className:"ml-2 w-100 inputComent text-light",disabled:!n&&!0,value:l,onChange:function(e){return d(e.target.value)},type:"text",placeholder:n?"Write a comment":"You must be loggued"}),Object(b.jsx)("img",{onClick:x,src:"/assets/send.svg",className:"pointer money",alt:"send"})]})})]})})),M=function(e){var t=e.activities;return Object(b.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:t&&t.map((function(e){return Object(b.jsx)("div",{className:"rounded m-1 activity",style:{backgroundImage:"url('".concat(e.picture,"')")},children:Object(b.jsx)("h3",{className:"text-ligth city",children:e.title})},e.title)}))})},P=n(34),V={fetchActivities:G.fetchActivities,like_unlike:G.like_unlike},H=Object(g.b)((function(e){return{userLoggued:e.authReducer.userLogued}}),V)((function(e){var t=e.data,n=e.fetchActivities,a=e.userLoggued,s=e.like_unlike,r=Object(c.useState)({activities:[],liked:!0,likes:t.likes,send:!1}),i=Object(L.a)(r,2),o=i[0],l=i[1],d=Object(c.useState)(!0),u=Object(L.a)(d,2),j=u[0],m=u[1],h=Object(P.useToasts)().addToast;Object(c.useEffect)((function(){a&&o.likes.includes(a._id)?l(Object(F.a)(Object(F.a)({},o),{},{liked:!0})):l(Object(F.a)(Object(F.a)({},o),{},{liked:!1}))}),[o.likes,t,a]);var x=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=j,!e.t0){e.next=12;break}return e.t1=l,e.t2=F.a,e.t3=Object(F.a)({},o),e.t4={},e.next=8,n(t._id);case 8:e.t5=e.sent,e.t6={activities:e.t5},e.t7=(0,e.t2)(e.t3,e.t4,e.t6),(0,e.t1)(e.t7);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=15;break}if(o.liked?l(Object(F.a)(Object(F.a)({},o),{},{likes:o.likes.filter((function(e){return e!==a._id}))})):l(Object(F.a)(Object(F.a)({},o),{},{likes:[].concat(Object(_.a)(o.likes),[a._id])})),o.send){e.next=13;break}return e.t0=l,e.t1=F.a,e.t2=Object(F.a)({},o),e.t3={},e.next=9,s(t._id);case 9:e.t4=e.sent,e.t5={likes:e.t4,send:!0},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),(0,e.t0)(e.t6);case 13:e.next=16;break;case 15:h("You must be logued",{appearance:"error",autoDismiss:!0});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"itinerary rounded m-2 bg-dark",children:[Object(b.jsx)("h2",{className:"t-It rounded",children:t.title}),Object(b.jsxs)("div",{className:"d-flex flex-column flex-wrap justify-content-center align-items-center mb-2",children:[Object(b.jsx)("img",{className:"img-autor",src:t.author.img,alt:"author"}),Object(b.jsxs)("h3",{children:[t.author.name," ",t.author.last_name]})]}),Object(b.jsxs)("div",{className:"d-flex flex-column flex-sm-row flex-wrap justify-content-around mt-2",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(b.jsx)("h5",{children:"Price: "}),Object(b.jsx)(A.a,{readonly:!0,initialRating:t.price,emptySymbol:Object(b.jsx)("img",{src:"/assets/moneyEmpty.svg",className:"icon ml-1 money",alt:"icon"}),fullSymbol:Object(b.jsx)("img",{src:"/assets/money.svg",className:"icon ml-1 money",alt:"icon"})})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(b.jsx)("h5",{children:"Duration: "}),Object(b.jsx)(A.a,{readonly:!0,initialRating:t.duration,emptySymbol:Object(b.jsx)("img",{src:"/assets/clockEmpty.svg",className:"icon ml-1 clock",alt:"icon"}),fullSymbol:Object(b.jsx)("img",{src:"/assets/clock.svg",className:"icon ml-1 clock",alt:"icon"})})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(b.jsx)("img",{onClick:O,className:"money pointer",src:"/assets/".concat(a&&o.liked?"heartFull":"heartEmpty",".svg"),alt:"icon"}),Object(b.jsx)("span",{className:"ml-1",children:o.likes.length})]})]}),Object(b.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:t.hashstags.map((function(e){return Object(b.jsxs)("h6",{className:"m-2 text-info",children:["#",e]},e)}))}),Object(b.jsx)(z.a,{defaultActiveKey:"0",className:"text-light ",children:Object(b.jsxs)(T.a,{children:[Object(b.jsx)(z.a.Collapse,{eventKey:"1",children:Object(b.jsxs)(T.a.Body,{className:"pt-0 mb-0 bg-dark",children:[Object(b.jsx)("h2",{className:" bg-dark text-light rounded",children:"Activities"}),Object(b.jsx)(M,{activities:o.activities}),Object(b.jsx)("h2",{children:"Comments"}),Object(b.jsx)(B,{itinerary:t})]})}),Object(b.jsx)(T.a.Header,{className:"bg-dark",children:Object(b.jsx)(z.a.Toggle,{as:I.a,onClick:function(){m(!j),x()},variant:"dark",eventKey:"1",children:j?"View more":"View less"})})]})})]})})),q={fetchItineraries:G.fetchItineraries},D=Object(g.b)((function(e){return{cities:e.citiesReducer.cities}}),q)((function(e){var t=e.cities,n=e.fetchItineraries,a=e.history,s=e.match.params.id,r=Object(c.useState)({}),o=Object(L.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)([]),j=Object(L.a)(u,2),x=j[0],O=j[1];Object(c.useEffect)((function(){window.scrollTo(0,0),p(),d(t.find((function(e){return e._id===s})))}),[t,s]);var p=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O,e.next=3,n(s);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.length||a.push("/cities"),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{}),Object(b.jsxs)("div",{className:"main black",children:[Object(b.jsx)("div",{className:"fondo-city",style:{backgroundImage:"url('".concat(l.img,"')")},children:Object(b.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(b.jsx)("h1",{className:"t-city rounded text-white p-1",children:l.city})})}),Object(b.jsx)("div",{className:"d-flex flex-column align-items-center",children:x.length?x.map((function(e,t){return Object(b.jsx)(H,{data:e},t)})):Object(b.jsxs)("div",{className:"alert alert-warning mt-4",role:"alert",children:["Sorry, we do not have itineraries for ",l.city,".Keep looking"]})}),Object(b.jsx)("div",{className:"text-center m-3",children:Object(b.jsx)(i.c,{to:"/cities",children:Object(b.jsx)("button",{className:"btn btn-info text-white",children:"Back to cities"})})})]}),Object(b.jsx)(h.a,{})]})})),J=n(44),$=n(120),K=n(90),Y=n(30),Z=n(69),W=n.n(Z),Q={fetchCountries:Y.a.fetchCountries,submitForm:Y.a.submitForm},X=Object(g.b)((function(e){return{countries:e.authReducer.countries}}),Q)((function(e){var t=e.countries,n=e.fetchCountries,a=e.submitForm,s=(e.history,Object(c.useState)({name:"",last_name:"",country:"",picture:"",email:"",password:""})),r=Object(L.a)(s,2),o=r[0],l=r[1],d=Object(c.useState)(!1),u=Object(L.a)(d,2),j=u[0],x=u[1],O=Object(P.useToasts)().addToast;Object(c.useEffect)((function(){n(),window.scrollTo(0,65)}),[n]);var p=function(e){l(Object(F.a)(Object(F.a)({},o),{},Object(J.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(S.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),t.currentTarget.checkValidity()){e.next=4;break}return e.abrupt("return",x(!0));case 4:return e.t0=v,e.next=7,a("signup",o);case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(S.a)(C.a.mark((function e(t){var n,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.profileObj,c={email:n.email,password:"G"+n.googleId,name:n.givenName,last_name:n.familyName,picture:n.imageUrl,country:"ninguno"},e.t0=v,e.next=5,a("signup",c);case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.message,n=e.type;O(t,{appearance:n,autoDismiss:!0})};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{}),Object(b.jsx)("div",{className:"main form-auth ",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"text-center nada",children:"Sign Up"}),Object(b.jsx)("div",{children:Object(b.jsxs)($.a,{noValidate:!0,validated:j,onSubmit:f,children:[Object(b.jsxs)($.a.Row,{children:[Object(b.jsxs)($.a.Group,{as:K.a,md:"12",children:[Object(b.jsx)($.a.Label,{children:"First name"}),Object(b.jsx)($.a.Control,{required:!0,pattern:"[a-zA-Z]{3,20}",type:"text",placeholder:"First name",name:"name",onChange:p}),Object(b.jsx)($.a.Control.Feedback,{type:"invalid",children:"The name must have a minimum of 3 letters and a maximum of 20"}),Object(b.jsx)($.a.Control.Feedback,{children:"Great!"})]}),Object(b.jsxs)($.a.Group,{as:K.a,md:"12",children:[Object(b.jsx)($.a.Label,{children:"Last name"}),Object(b.jsx)($.a.Control,{required:!0,type:"text",pattern:"[a-zA-Z]{3,20}",placeholder:"Last name",name:"last_name",onChange:p}),Object(b.jsx)($.a.Control.Feedback,{type:"invalid",children:"The last name must have a minimum of 3 letters and a maximum of 20"}),Object(b.jsx)($.a.Control.Feedback,{children:"Great!"})]}),Object(b.jsxs)($.a.Group,{as:K.a,md:"12",children:[Object(b.jsx)($.a.Label,{children:"Country"}),Object(b.jsxs)($.a.Control,{as:"select",autoFocus:!0,required:!0,name:"country",onChange:p,children:[Object(b.jsx)("option",{}),t.length&&t.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name},e.name)}))]}),Object(b.jsx)($.a.Control.Feedback,{type:"invalid",children:" Please choose a country "}),Object(b.jsx)($.a.Control.Feedback,{children:"Great!"})]})]}),Object(b.jsxs)($.a.Row,{children:[Object(b.jsxs)($.a.Group,{as:K.a,md:"12",children:[Object(b.jsx)($.a.Label,{children:"Picture"}),Object(b.jsx)($.a.Control,{required:!0,pattern:"^https?:\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+[/#?]?.*$",type:"text",placeholder:"Enter a url",name:"picture",onChange:p}),Object(b.jsx)($.a.Control.Feedback,{type:"invalid",children:"Please enter a valid URL"}),Object(b.jsx)($.a.Control.Feedback,{children:"Great!"})]}),Object(b.jsxs)($.a.Group,{as:K.a,md:"12",children:[Object(b.jsx)($.a.Label,{children:"Email"}),Object(b.jsx)($.a.Control,{type:"email",name:"email",pattern:"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$",onChange:p,placeholder:"Enter a email",required:!0}),Object(b.jsx)($.a.Control.Feedback,{children:"Great!"}),Object(b.jsx)($.a.Control.Feedback,{type:"invalid",children:"Please enter a valid email"})]}),Object(b.jsxs)($.a.Group,{as:K.a,md:"12",children:[Object(b.jsx)($.a.Label,{children:"Password"}),Object(b.jsx)($.a.Control,{type:"password",pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{4,}$",name:"password",onChange:p,placeholder:"Enter a password",required:!0}),Object(b.jsx)($.a.Control.Feedback,{children:"Great!"}),Object(b.jsx)($.a.Control.Feedback,{type:"invalid",children:"Minimum 3 letters and must contain a number"})]})]}),Object(b.jsx)(I.a,{type:"submit",className:"w-100 mt-1",children:"Sign Up"})]})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"mt-2 d-flex align-items-center",children:[Object(b.jsx)("h6",{children:"Or you can sign up with Google"}),Object(b.jsx)(W.a,{className:"ml-2",clientId:"418543337270-33q9p0j27pdhpkentid3tte7ppr43rek.apps.googleusercontent.com",buttonText:"Sign Up",onSuccess:g,onFailure:g,cookiePolicy:"single_host_origin"})]}),Object(b.jsxs)("div",{className:"mt-2 d-flex align-items-center",children:[Object(b.jsx)("h6",{children:"Already have an account?"}),Object(b.jsx)(i.c,{className:"ml-1 mb-1 text-info",to:"/login",children:"Sign in here!"})]})]})]})}),Object(b.jsx)(h.a,{})]})})),ee={submitForm:Y.a.submitForm},te=Object(g.b)(null,ee)((function(e){var t=e.submitForm,n=(e.history,Object(c.useState)({email:"",password:""})),a=Object(L.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(!1),l=Object(L.a)(o,2),d=l[0],u=l[1],j=Object(P.useToasts)().addToast,x=function(e){r(Object(F.a)(Object(F.a)({},s),{},Object(J.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(S.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),n.stopPropagation(),n.currentTarget.checkValidity()){e.next=4;break}return e.abrupt("return",u(!0));case 4:return e.t0=f,e.next=7,t("signin",s);case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(S.a)(C.a.mark((function e(n){var c,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.profileObj,a={email:c.email,password:"G"+c.googleId},e.t0=f,e.next=5,t("signin",a);case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.message,n=e.type;j(t,{appearance:n,autoDismiss:!0})};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{}),Object(b.jsx)("div",{className:"main form-auth ",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"text-center nada",children:"Sign In"}),Object(b.jsxs)($.a,{noValidate:!0,validated:d,onSubmit:O,children:[Object(b.jsxs)($.a.Row,{children:[Object(b.jsxs)($.a.Group,{as:K.a,md:"12",controlId:"validationCustom01",children:[Object(b.jsx)($.a.Label,{children:"Email"}),Object(b.jsx)($.a.Control,{required:!0,type:"email",name:"email",onChange:x,placeholder:"Email"}),Object(b.jsx)($.a.Control.Feedback,{children:"Great!"})]}),Object(b.jsxs)($.a.Group,{as:K.a,md:"12",controlId:"validationCustom02",children:[Object(b.jsx)($.a.Label,{children:"Password"}),Object(b.jsx)($.a.Control,{required:!0,type:"password",name:"password",onChange:x,placeholder:"Enter password"}),Object(b.jsx)($.a.Control.Feedback,{children:"Great!"})]})]}),Object(b.jsx)(I.a,{type:"submit",className:"w-100 mt-2",children:"Sign In"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"mt-2 d-flex flex-wrap align-items-center",children:[Object(b.jsx)("h6",{children:"Or you can sign in with your Google account"}),Object(b.jsx)(W.a,{clientId:"418543337270-33q9p0j27pdhpkentid3tte7ppr43rek.apps.googleusercontent.com",buttonText:"Sign In",onSuccess:p,onFailure:p,cookiePolicy:"single_host_origin"})]}),Object(b.jsxs)("div",{className:"mt-2 d-flex align-items-center",children:[Object(b.jsx)("h6",{children:"Don't have an account?"}),Object(b.jsx)(i.c,{className:"ml-1 mb-1 text-info",to:"/signup",children:"Sign up here!"})]})]})]})}),Object(b.jsx)(h.a,{})]})}));var ne={validToken:Y.a.validarToken},ce=Object(g.b)((function(e){return{userLogued:e.authReducer.userLogued}}),ne)((function(e){var t=e.validToken,n=e.userLogued;return!n&&localStorage.getItem("token")&&t(),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(P.ToastProvider,{children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/",component:f}),Object(b.jsx)(o.b,{path:"/cities",component:w}),Object(b.jsx)(o.b,{path:"/city/:id",component:D}),!n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.b,{path:"/signup",component:X}),Object(b.jsx)(o.b,{path:"/login",component:te})]}),Object(b.jsx)(o.a,{to:"/"})]})})})})})),ae=n(38),se=n(91),re={cities:[],citiesFiltered:[]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CITIES":return Object(F.a)(Object(F.a)({},e),{},{cities:t.payload,citiesFiltered:t.payload});case"BUSCAR":return Object(F.a)(Object(F.a)({},e),{},{citiesFiltered:e.cities.filter((function(e){return 0===e.city.split(" ").join("").toLowerCase().indexOf(t.payload)}))});default:return e}},oe={countries:[],userLogued:null},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRIES":return Object(F.a)(Object(F.a)({},e),{},{countries:t.payload});case"LOG_USER":return localStorage.setItem("user",JSON.stringify(t.payload)),t.payload.token&&localStorage.setItem("token",t.payload.token),Object(F.a)(Object(F.a)({},e),{},{userLogued:t.payload});case"UNLOG_USER":return localStorage.clear(),Object(F.a)(Object(F.a)({},e),{},{userLogued:t.payload});default:return e}},de=Object(ae.c)({citiesReducer:ie,authReducer:le}),ue=Object(ae.d)(de,Object(ae.a)(se.a));r.a.render(Object(b.jsx)(g.a,{store:ue,children:Object(b.jsx)(ce,{})}),document.getElementById("root"))},27:function(e,t,n){"use strict";(function(e){var c=n(73),a=n(115),s=n(83),r=n(15),i=n(16),o=n(30),l=n(1),d={userLoguedFunction:o.a.userLogued,unlogUser:o.a.unlogUser};t.a=Object(i.b)((function(e){return{userLogued:e.authReducer.userLogued}}),d)((function(t){var n=t.logo,i=void 0===n||n,o=t.userLogued,d=t.unlogUser;return Object(l.jsxs)("header",{className:i?"black":"",children:[Object(l.jsx)("div",{children:Object(l.jsxs)(s.a,{children:[Object(l.jsx)(s.a.Toggle,{variant:"",className:"text-white d-flex align-items-center",children:Object(l.jsx)("div",{className:"picture-user",style:{backgroundImage:"url('".concat(o?o.picture:"/assets/user.png","')")}})}),Object(l.jsx)(s.a.Menu,{className:"d-flex flex-column ",children:o?Object(l.jsx)("h6",{className:"ml-1 pointer",onClick:d,children:"Log out"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(r.c,{to:"/signup",className:"text-dark ml-1",children:Object(l.jsx)("h6",{children:"Sign Up"})}),Object(l.jsx)(r.c,{to:"/login",className:"text-dark ml-1",children:Object(l.jsx)("h6",{children:"Log in"})})]})})]})}),i&&Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:e.cwd()+"traveller.svg",alt:"logo",className:"logo lo-cities "}),Object(l.jsx)("h1",{className:"text-white mt-2 tx-cities",children:"Mytinerary"})]}),Object(l.jsx)("div",{children:Object(l.jsxs)(c.a,{expand:"md",variant:"dark",className:"menu ",children:[Object(l.jsx)(c.a.Brand,{}),Object(l.jsx)(c.a.Toggle,{}),Object(l.jsx)(c.a.Collapse,{className:"rounded bg-nav",children:Object(l.jsxs)(a.a,{className:"mr-auto nav",children:[Object(l.jsx)(r.b,{to:"/",children:Object(l.jsxs)("h3",{children:[Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-house",viewBox:"0 0 16 16",children:[Object(l.jsx)("path",{fillRule:"evenodd",d:"M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),Object(l.jsx)("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})]})," Home"]})}),Object(l.jsx)(r.b,{to:"/cities",children:Object(l.jsxs)("h3",{children:[Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-compass",viewBox:"0 0 16 16",children:[Object(l.jsx)("path",{d:"M8 16.016a7.5 7.5 0 0 0 1.962-14.74A1 1 0 0 0 9 0H7a1 1 0 0 0-.962 1.276A7.5 7.5 0 0 0 8 16.016zm6.5-7.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),Object(l.jsx)("path",{d:"m6.94 7.44 4.95-2.83-2.83 4.95-4.949 2.83 2.828-4.95z"})]})," Cities"]})})]})})]})})]})}))}).call(this,n(84))},29:function(e,t,n){"use strict";(function(e){var c=n(15),a=n(1);t.a=function(){return Object(a.jsx)("footer",{children:Object(a.jsxs)("div",{className:"row nada",children:[Object(a.jsxs)("div",{className:"nav-footer col-12 col-md-4 order-1 order-md-0",children:[Object(a.jsx)(c.b,{to:"/",children:Object(a.jsx)("h5",{children:"Home"})}),Object(a.jsx)(c.b,{to:"/cities",children:Object(a.jsx)("h5",{children:"Cities"})}),Object(a.jsxs)(c.b,{to:"/",children:[" ",Object(a.jsx)("h5",{children:"Sign Up"})]}),Object(a.jsx)(c.b,{to:"/",children:Object(a.jsx)("h5",{children:"Login"})})]}),Object(a.jsx)("div",{className:"col-12 col-md-4 ",children:Object(a.jsxs)("div",{className:"f-principal ",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("img",{src:e.cwd()+"traveller.svg",alt:"logo",style:{width:"2rem",marginBottom:"0.7rem"}}),Object(a.jsx)("h3",{children:"Mytinerary"})]}),Object(a.jsx)("p",{children:"visit our social networks"})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("ul",{className:"ul-footer d-flex",children:[Object(a.jsx)("li",{children:Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",fill:"currentColor",className:"bi bi-twitter",viewBox:"0 0 16 16",children:Object(a.jsx)("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"})})}),Object(a.jsx)("li",{children:Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",fill:"currentColor",className:"bi bi-facebook",viewBox:"0 0 16 16",children:Object(a.jsx)("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})})}),Object(a.jsx)("li",{children:Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",fill:"currentColor",className:"bi bi-instagram",viewBox:"0 0 16 16",children:Object(a.jsx)("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})})})]})})]})}),Object(a.jsxs)("div",{className:"col-12 col-md-4 mt-3 ",children:[Object(a.jsx)("h3",{className:"text-center",children:"Contact us"}),Object(a.jsx)("div",{className:"d-flex justify-content-center ml-5 contact",children:Object(a.jsx)("div",{className:"d-flex mt-4",children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("h5",{children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"20",height:"20"},fill:"currentColor",className:"bi bi-envelope",viewBox:"0 0 16 16",children:Object(a.jsx)("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"})}),"  mytinerary@myt.com"]}),Object(a.jsxs)("h5",{children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"20",height:"20"},fill:"currentColor",className:"bi bi-telephone",viewBox:"0 0 16 16",children:Object(a.jsx)("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})}),"844-698-6397"]})]})})})]})]})})}}).call(this,n(84))},30:function(e,t,n){"use strict";var c={fetchCountries:function(){return function(e){fetch("https://restcountries.eu/rest/v2/all").then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_COUNTRIES",payload:t})})).catch((function(e){return console.log(e)}))}},submitForm:function(e,t){return function(n){return fetch("https://mytinerarydupuy.herokuapp.com/api/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e.success?(n({type:"LOG_USER",payload:e.result}),{message:"Welcome "+e.result.name,type:"success"}):{message:e.err,type:"error"}})).catch((function(e){return{message:"oops! An error has occurred",type:"error"}}))}},validarToken:function(){return function(e){fetch("https://mytinerarydupuy.herokuapp.com/api/verifyToken",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(t){return e({type:"LOG_USER",payload:t.result})})).catch((function(t){return e({type:"UNLOG_USER",payload:null})}))}},unlogUser:function(){return function(e){return e({type:"UNLOG_USER",payload:null})}}};t.a=c},98:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.0c5654ad.chunk.js.map